"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[45260],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>u});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),m=p(n),u=r,h=m["".concat(l,".").concat(u)]||m[u]||c[u]||o;return n?a.createElement(h,i(i({ref:t},d),{},{components:n})):a.createElement(h,i({ref:t},d))}));function u(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var p=2;p<o;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},94190:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var a=n(87462),r=(n(67294),n(3905));const o={title:"React Admin Panel Tutorial with Chakra UI and Strapi",description:"We'll build a React admin tutorial app with refine",slug:"react-admin-tutorial",authors:"peter_osah",tags:["refine","react","strapi","tutorial","chakra-ui"],image:"https://refine.ams3.cdn.digitaloceanspaces.com/blog%2F2023-03-03-ra-chakra-tutorial%2FGroup%20818%20(1).png",hide_table_of_contents:!1},i=void 0,s={permalink:"/blog/react-admin-tutorial",source:"@site/blog/2023-03-03-ra-chakra-tutorial.md",title:"React Admin Panel Tutorial with Chakra UI and Strapi",description:"We'll build a React admin tutorial app with refine",date:"2023-03-03T00:00:00.000Z",formattedDate:"March 3, 2023",tags:[{label:"refine",permalink:"/blog/tags/refine"},{label:"react",permalink:"/blog/tags/react"},{label:"strapi",permalink:"/blog/tags/strapi"},{label:"tutorial",permalink:"/blog/tags/tutorial"},{label:"chakra-ui",permalink:"/blog/tags/chakra-ui"}],readingTime:25.545,hasTruncateMarker:!1,authors:[{name:"Peter Osah",title:"Web Developer",imageURL:"/img/generic-profile.png",key:"peter_osah"}],frontMatter:{title:"React Admin Panel Tutorial with Chakra UI and Strapi",description:"We'll build a React admin tutorial app with refine",slug:"react-admin-tutorial",authors:"peter_osah",tags:["refine","react","strapi","tutorial","chakra-ui"],image:"https://refine.ams3.cdn.digitaloceanspaces.com/blog%2F2023-03-03-ra-chakra-tutorial%2FGroup%20818%20(1).png",hide_table_of_contents:!1},prevItem:{title:"How to create React draggable components with react-dnd",permalink:"/blog/react-draggable-components-with-react-dnd"},nextItem:{title:"refine Hackaton Winners",permalink:"/blog/refine-hackathon-winners"},relatedPosts:[{title:"How to Create Dynamic Forms in React CRUD app with Ant Design",permalink:"/blog/react-crud-app-with-dynamic-form-ant-design",formattedDate:"November 17, 2022",authors:[{name:"David Omotayo",title:"Frontend developer",url:"https://github.com/david4473",imageURL:"https://github.com/david4473.png",key:"david_omotayo"}],readingTime:23.725,date:"2022-11-17T00:00:00.000Z"},{title:"How to use React Strict Mode in React 18",permalink:"/blog/react-strict-mode-in-react-18",formattedDate:"November 24, 2022",authors:[{name:"Deborah Emeni",title:"Software Engineer",url:"https://github.com/debemenitammy",imageURL:"https://github.com/debemenitammy.png",key:"deborah_emeni"}],readingTime:6.99,date:"2022-11-24T00:00:00.000Z"},{title:"Create E-mail Subscription Panel with Refine and Strapi",permalink:"/blog/e-mail-subscription-panel-with-refine",formattedDate:"October 25, 2021",authors:[{name:"Melih Ekinci",title:"Frontend Developer",url:"https://github.com/mlhekinci",imageURL:"https://github.com/mlhekinci.png",key:"melih"}],readingTime:8.025,date:"2021-10-25T00:00:00.000Z"}],authorPosts:[{title:"Building a Complete React CRUD App with Airtable",permalink:"/blog/react-crud-app-airtable",formattedDate:"January 17, 2023",authors:[{name:"Peter Osah",title:"Web Developer",imageURL:"/img/generic-profile.png",key:"peter_osah"}],readingTime:26.47,date:"2023-01-17T00:00:00.000Z"}]},l={authorsImageUrls:[void 0]},p=[{value:"Introduction",id:"introduction",level:2},{value:"Benefits of using refine",id:"benefits-of-using-refine",level:2},{value:"What is Strapi?",id:"what-is-strapi",level:2},{value:"Constituents of A refine Application",id:"constituents-of-a-refine-application",level:2},{value:"The <code>&lt;Refine/&gt;</code> Component",id:"the-refine-component",level:3},{value:"Bootstrapping the refine Application",id:"bootstrapping-the-refine-application",level:2},{value:"Utilizing the Strapi v4 Provider in refine",id:"utilizing-the-strapi-v4-provider-in-refine",level:2},{value:"Setting AuthProvider",id:"setting-authprovider",level:3},{value:"Implementing CRUD operations on React admin panel",id:"implementing-crud-operations-on-react-admin-panel",level:2},{value:"Listing records",id:"listing-records",level:3},{value:"Handling Relationships",id:"handling-relationships",level:4},{value:"Pagination Of Listed Records",id:"pagination-of-listed-records",level:4},{value:"Viewing a record",id:"viewing-a-record",level:3},{value:"Creating a record",id:"creating-a-record",level:3},{value:"Modifying/Editing records.",id:"modifyingediting-records",level:3},{value:"Deleting post record",id:"deleting-post-record",level:3},{value:"Implement sorting of listed records",id:"implement-sorting-of-listed-records",level:3},{value:"Implement filters on listed records",id:"implement-filters-on-listed-records",level:3},{value:"Implementing mutation mode.",id:"implementing-mutation-mode",level:3},{value:"Conclusion",id:"conclusion",level:2},{value:"Live CodeSandbox Example",id:"live-codesandbox-example",level:2}],d=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",t)},c=d("PromotionBanner"),m=d("CodeSandboxExample"),u={toc:p};function h(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"This post was created using version 3.x.x of ",(0,r.kt)("strong",{parentName:"p"},"refine"),". Although we plan to update it with the latest version of ",(0,r.kt)("strong",{parentName:"p"},"refine")," as soon as possible, you can still benefit from the post in the meantime."),(0,r.kt)("p",{parentName:"admonition"},"You should know that ",(0,r.kt)("strong",{parentName:"p"},"refine")," version 4.x.x is backward compatible with version 3.x.x, so there is no need to worry. If you want to see the differences between the two versions, check out the ",(0,r.kt)("a",{parentName:"p",href:"https://refine.dev/docs/migration-guide/"},"migration guide"),"."),(0,r.kt)("p",{parentName:"admonition"},"Just be aware that the source code example in this post have been updated to version 4.x.x.")),(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"In building data-intensive applications like React admin dashboards and in-house applications, among others, speed, customizability, and performance are of the essence as these applications are pivotal in the management of most businesses and software. This has led developers to opt for solutions like refine that provide these qualities out of the box.",(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/refinedev/refine"},"refine")," is a React-based framework that helps to build data-intensive applications in due time. It does this by providing hooks, providers, and components that provide room for UI customizability, and data management, as well as easy integration with any custom backend APIs and popular backend services like Strapi, Hasura, etc."),(0,r.kt)("p",null,"In this React admin panel tutorial, we will be creating an admin application with refine that will be built with ",(0,r.kt)("a",{parentName:"p",href:"https://chakra-ui.com/"},"ChakraUI"),", an enterprise-level React component library, and ",(0,r.kt)("a",{parentName:"p",href:"https://strapi.io/"},"Strapi"),", a popular backend service, as its backend provider."),(0,r.kt)("h2",{id:"benefits-of-using-refine"},"Benefits of using refine"),(0,r.kt)("p",null,"refine accelerates development by creating a higher abstraction of most functionalities such as routing, data providers, authentication, internationalization, layouts, asynchronous state management, and many others that developers would have to set up from scratch if building the application from the ground up."),(0,r.kt)("p",null,"With refine, you have the choice to build your application with a custom design (a headless approach) or a UI component library. refine includes integrations for some component libraries and design systems, like Material UI, Chakra UI, Ant Design, and Mantime."),(0,r.kt)("p",null,"It can also be integrated into any REST or GraphQL backend service and includes out-of-the-box support for popular BAAS (backend as a service) such as NestJs CRUD, Airtable, Strapi, Supabase, Altogic, and others."),(0,r.kt)("p",null,"A peculiarity of refine is that it provides a lot of out-of-the-box functionality for rapid development while still allowing for extreme customization. You can build a variety of applications with refine, and it isn't limited to major use cases like React admin panels, B2B applications, and dashboards. In this React admin tutorial, we will be illustrating how to build a CRUD app with refine."),(0,r.kt)("p",null,"Whether you're a beginner or an experienced developer, this React admin tutorial will walk you through the entire process, step by step, and show you how to integrate Strapi as your backend CMS to create an amazing React admin panel."),(0,r.kt)("h2",{id:"what-is-strapi"},"What is Strapi?"),(0,r.kt)("p",null,"Strapi is a free and open-source headless Content Management System built on Node.js. It allows developers to easily create, manage, and consume content through a customizable API.\nStrapi provides a user-friendly admin panel for content editors to manage content without having to write code, while also providing a flexible content modeling system that can be tailored to fit specific project needs."),(0,r.kt)("h2",{id:"constituents-of-a-refine-application"},"Constituents of A refine Application"),(0,r.kt)("p",null,"Before delving in to build the CRUD React admin tutorial app, we need to know the constitutents of an refine application."),(0,r.kt)("h3",{id:"the-refine-component"},"The ",(0,r.kt)("inlineCode",{parentName:"h3"},"<Refine/>")," Component"),(0,r.kt)("p",null,"The ",(0,r.kt)("a",{parentName:"p",href:"https://refine.dev/docs/api-reference/core/components/refine-config/"},(0,r.kt)("inlineCode",{parentName:"a"},"<Refine/>"))," acts as the entrypoint of the application. it is a component that recieves the configurations passed into it as ",(0,r.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/components-and-props.html"},"react props"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/App.tsx"',title:'"src/App.tsx"'},'import { Refine } from "@refinedev/core";\nimport dataProvider from "@refinedev/simple-rest";\n\nimport { PostList } from "pages/posts";\n\nconst API_URL = "https://api.fake-rest.refine.dev";\n\nconst App: React.FC = () => {\n    return (\n        <Refine\n            dataProvider={dataProvider(API_URL)}\n            resources={[\n                {\n                    name: "posts",\n                    list: PostList,\n                },\n            ]}\n        />\n    );\n};\n\nexport default App;\n')),(0,r.kt)("p",null,"There are a variety of configurations that can be passed into a refine application. they are:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"DataProvider"),": a data provider enables a refine application connect to an external API or service. A dataProvider sends HTTP requests and receives responses via predefined methods.")),(0,r.kt)("p",null,"Here is a sample on how to adding a dataProvider to the refine component."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/App.tsx"',title:'"src/App.tsx"'},'import { Refine } from "@refinedev/core";\nimport { authProvider, axiosInstance } from "./authProvider";\nimport { DataProvider } from "@refinedev/strapi-v4";\n\nfunction App() {\n return (\n   <Refine\n     ...\n     dataProvider={DataProvider(API_URL + `/api`, axiosInstance)}\n   />\n );\n}\n\nexport default App;\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Resources")," A ",(0,r.kt)("a",{parentName:"p",href:"https://refine.dev/docs/tutorial/understanding-resources/index/"},"resources")," is a fundamental component of a refine application. A resource acts as a bridge between the Data/API layer and the Document/Page Layer. A resource enables the application's pages to interact with the API.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"In order to create a resource, we have to pass the resources property which will be an ",(0,r.kt)("strong",{parentName:"p"},"array")," of ",(0,r.kt)("strong",{parentName:"p"},"objects")," with each object specifying the pages route name and the basic operations the pages under that route name can perform which are the list(displaying records from an API or service), create(add or creating a record to an API or service), edit(modifying an existing record from an API or service), show(display a specific record from an API or service) operations. to the ",(0,r.kt)("inlineCode",{parentName:"p"},"<Refine />")," component."))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/App.tsx"',title:'"src/App.tsx"'},'import { Refine } from "@refinedev/core";\nimport { PostList, PostCreate, PostEdit, PostShow } from "pages/posts";\n\nconst API_URL = "https://api.fake-rest.refine.dev";\n\nconst App: React.FC = () => {\n    return (\n        <Refine\n            ...\n            resources={[\n                {\n                    name: "posts",\n                    list: PostList,\n                    create: PostCreate,\n                    edit: PostEdit,\n                    show: PostShow,\n                },\n            ]}\n        />\n    );\n};\n\nexport default App;\n')),(0,r.kt)("h2",{id:"bootstrapping-the-refine-application"},"Bootstrapping the refine Application"),(0,r.kt)("p",null,"To create our refine application for this article, we will use the ",(0,r.kt)("inlineCode",{parentName:"p"},"create refine-app")," wizard."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"create refine-app")," comes with built-in templates for the CRA, Next.js, and Remix environments, allowing you to setup a refine project quickly. It also provides an array of options for automatically configuring your UI framework, i18n, router, authentication, and data provider settings."),(0,r.kt)("p",null,"In order to use this, execute the following command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"npm create refine-app@latest <name of your application>\n")),(0,r.kt)("p",null,"You will be directed to the CLI wizard after running the command. To complete the CLI wizard, select the following options:"),(0,r.kt)("div",{className:"centered-image"},(0,r.kt)("img",{style:{alignSelf:"center"},src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog%2F2023-03-03-ra-chakra-tutorial%2Fcli.png",alt:"react admin tutorial"})),(0,r.kt)("br",null),(0,r.kt)("p",null,"When these options are selected, the CLI will bootstrap a refine application with the Strapi-v4 provider."),(0,r.kt)("p",null,"Following installation, we will execute the following command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"npm run dev\n")),(0,r.kt)("p",null,"The refine application should be up and running after you run the command. To access it, go to http://localhost:3000."),(0,r.kt)("div",{class:"img-container"},(0,r.kt)("div",{class:"window"},(0,r.kt)("div",{class:"control red"}),(0,r.kt)("div",{class:"control orange"}),(0,r.kt)("div",{class:"control green"})),(0,r.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog%2F2023-03-03-ra-chakra-tutorial%2Fwelcome.jpeg",alt:"react admin tutorial"})),(0,r.kt)("br",null),(0,r.kt)("h2",{id:"utilizing-the-strapi-v4-provider-in-refine"},"Utilizing the Strapi v4 Provider in refine"),(0,r.kt)("p",null,"On installation, since we selected the strapi-v4 data provider, refine adds a fake strapi API url to the data provider of the refine application"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"https://automatic-sweltering-dog.strapiapp.com\n")),(0,r.kt)("p",null,"In this React admin tutorial, we will be using refine's ",(0,r.kt)("inlineCode",{parentName:"p"},"fake strapi-v4 API url")," for demo purposes. If you have a strapi-v4 API url you wish to integrate into the application, you can always replace the fake strapi API with that."),(0,r.kt)("h3",{id:"setting-authprovider"},"Setting AuthProvider"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"create-refine-app")," command generates a new refine application with a default AuthProvider. If you followed the steps above to create your application using ",(0,r.kt)("inlineCode",{parentName:"p"},"create-react-app"),", you should already have the ",(0,r.kt)("inlineCode",{parentName:"p"},"src/authProvider.ts")," file."),(0,r.kt)("p",null,"It's worth noting that the authProvider's login method is especially important. We'll be using email and password to sign in to our application, so make sure that the login method contains the code provided below."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="src/authProvider.ts"',title:'"src/authProvider.ts"'},'export const authProvider: AuthProvider = {\n    //highlight-start\n    login: async ({ email, password }) => {\n        const { data, status } = await strapiAuthHelper.login(email, password);\n        //highlight-end\n        if (status === 200) {\n            localStorage.setItem(TOKEN_KEY, data.jwt);\n\n            // set header axios instance\n            axiosInstance.defaults.headers.common = {\n                Authorization: `Bearer ${data.jwt}`,\n            };\n\n            return {\n                success: true,\n                redirectTo: "/",\n            };\n        }\n        return {\n            success: false,\n            error: new Error("Invalid email or password"),\n        };\n    },\n    ...\n};\n')),(0,r.kt)("h2",{id:"implementing-crud-operations-on-react-admin-panel"},"Implementing CRUD operations on React admin panel"),(0,r.kt)("p",null,"We will implement ",(0,r.kt)("strong",{parentName:"p"},"CRUD")," operations such as listing, creating, and editing records in our React admin tutorial application."),(0,r.kt)("p",null,"In this article, we describe our React admin tutorial app, which is one that can track the list of posts created, as well as have the functionality of viewing a post as well as updating and deleting a post, respectively."),(0,r.kt)("h3",{id:"listing-records"},"Listing records"),(0,r.kt)("p",null,"To display data on the UI, we must create a ",(0,r.kt)("inlineCode",{parentName:"p"},"<PostList/>")," page."),(0,r.kt)("p",null,"To begin, we'll require an interface to interact with the data from the API endpoint."),(0,r.kt)("p",null,"If you don't already have one, we'll create one under the ",(0,r.kt)("inlineCode",{parentName:"p"},"src")," folder called ",(0,r.kt)("inlineCode",{parentName:"p"},"interfaces"),". Then, create a file called ",(0,r.kt)("inlineCode",{parentName:"p"},"index.d.ts")," with the following code:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/interfaces/index.d.ts"',title:'"src/interfaces/index.d.ts"'},"export interface IPost {\n    id: number;\n    title: string;\n    content: string;\n    category: any;\n    publishedAt: string;\n    createdAt: string;\n}\n")),(0,r.kt)("p",null,"Next, we create a new folder named ",(0,r.kt)("inlineCode",{parentName:"p"},"pages")," under the ",(0,r.kt)("inlineCode",{parentName:"p"},"src")," folder. Under that folder, create a ",(0,r.kt)("inlineCode",{parentName:"p"},"posts")," folder and add a ",(0,r.kt)("inlineCode",{parentName:"p"},"list.tsx")," file with the following code:"),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Show code "),(0,r.kt)("p",null,(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="pages/posts/list.tsx"',title:'"pages/posts/list.tsx"'},'import React from "react";\nimport {\n    IResourceComponentsProps,\n    GetManyResponse,\n    useMany,\n} from "@refinedev/core";\nimport { useTable, ColumnDef, flexRender } from "@refinedev/react-table";\nimport {\n    List,\n    ShowButton,\n    EditButton,\n    DeleteButton,\n    DateField,\n} from "@refinedev/chakra-ui";\nimport {\n    Table,\n    Thead,\n    Tbody,\n    Tr,\n    Th,\n    Td,\n    TableContainer,\n    HStack,\n    Text,\n    Select,\n} from "@chakra-ui/react";\nimport { IconChevronRight, IconChevronLeft } from "@tabler/icons";\nimport { IPost } from "interfaces";\n\nexport const PostList: React.FC<IResourceComponentsProps> = () => {\n    const columns = React.useMemo<ColumnDef<IPost>[]>(\n        () => [\n            {\n                id: "id",\n                accessorKey: "id",\n                header: "Id",\n            },\n            {\n                id: "title",\n                accessorKey: "title",\n                header: "Title",\n            },\n            {\n                id: "createdAt",\n                accessorKey: "createdAt",\n                header: "Created At",\n                cell: function render({ getValue, table }) {\n                    return (\n                        <DateField value={getValue() as string} format="LLL" />\n                    );\n                },\n            },\n            {\n                id: "actions",\n                accessorKey: "id",\n                header: "Actions",\n                cell: function render({ getValue }) {\n                    return (\n                        <HStack>\n                            <ShowButton\n                                hideText\n                                recordItemId={getValue() as string}\n                            />\n                            <EditButton\n                                hideText\n                                recordItemId={getValue() as string}\n                            />\n                        </HStack>\n                    );\n                },\n            },\n        ],\n        [],\n    );\n\n    const {\n        getHeaderGroups,\n        getRowModel,\n        setOptions,\n        refineCore: {\n            setCurrent,\n            pageCount,\n            current,\n            tableQueryResult: { data: tableData },\n        },\n    } = useTable({\n        columns,\n    });\n\n    setOptions((prev) => ({\n        ...prev,\n        meta: {\n            ...prev.meta,\n        },\n    }));\n\n    return (\n        <List>\n            <TableContainer whiteSpace="pre-line">\n                <Table variant="simple">\n                    <Thead>\n                        {getHeaderGroups().map((headerGroup) => (\n                            <Tr key={headerGroup.id}>\n                                {headerGroup.headers.map((header) => (\n                                    <Th key={header.id}>\n                                        {!header.isPlaceholder &&\n                                            flexRender(\n                                                header.column.columnDef.header,\n                                                header.getContext(),\n                                            )}\n                                    </Th>\n                                ))}\n                            </Tr>\n                        ))}\n                    </Thead>\n                    <Tbody>\n                        {getRowModel().rows.map((row) => (\n                            <Tr key={row.id}>\n                                {row.getVisibleCells().map((cell) => (\n                                    <Td key={cell.id}>\n                                        {flexRender(\n                                            cell.column.columnDef.cell,\n                                            cell.getContext(),\n                                        )}\n                                    </Td>\n                                ))}\n                            </Tr>\n                        ))}\n                    </Tbody>\n                </Table>\n            </TableContainer>\n        </List>\n    );\n};\n')))),(0,r.kt)("p",null,"In the code above, we use the ",(0,r.kt)("a",{parentName:"p",href:"https://refine.dev/docs/api-reference/core/hooks/useTable/"},(0,r.kt)("inlineCode",{parentName:"a"},"useTable()"))," hook from the ",(0,r.kt)("inlineCode",{parentName:"p"},"@refinedev/react-table")," package to fetch records from Strapi. the ",(0,r.kt)("inlineCode",{parentName:"p"},"useTable()")," maps the records into rows based on the ",(0,r.kt)("inlineCode",{parentName:"p"},"columns")," variable definition."),(0,r.kt)("p",null,"After this, we can now add the component ",(0,r.kt)("inlineCode",{parentName:"p"},"<PostList/>")," in the ",(0,r.kt)("inlineCode",{parentName:"p"},"list.tsx")," file to our resource present in the ",(0,r.kt)("inlineCode",{parentName:"p"},"App.tsx")," file"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/App.tsx"',title:'"src/App.tsx"'},'import React from "react";\nimport { Refine } from "@refinedev/core";\nimport {\n    notificationProvider,\n    refineTheme,\n    ReadyPage,\n    ErrorComponent,\n    Layout,\n    AuthPage,\n} from "@refinedev/chakra-ui";\nimport { ChakraProvider } from "@chakra-ui/react";\nimport { DataProvider } from "@refinedev/strapi-v4";\nimport routerProvider from "@refinedev/react-router-v6";\nimport { authProvider, axiosInstance } from "./authProvider";\nimport { API_URL } from "./constants";\nimport { PostList } from "./pages/posts";\n\nfunction App() {\n    return (\n        <ChakraProvider theme={refineTheme}>\n            <Refine\n                ...\n                // highlight-start\n                LoginPage={AuthPage}\n                resources={[\n                    {\n                        name: "posts",\n                        list: PostList,\n                    },\n                    // highlight-end\n                ]}\n            />\n        </ChakraProvider>\n    );\n}\n\nexport default App;\n')),(0,r.kt)("p",null,"After adding the rescource, the application will now redirect to the URL specified by the name property."),(0,r.kt)("p",null,"It will prompt you to log in to the app. Since we are using refine's ",(0,r.kt)("inlineCode",{parentName:"p"},"fake strapi-v4 API"),", Try these credentials:"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Username"),": ",(0,r.kt)("a",{parentName:"p",href:"mailto:demo@refine.dev"},"demo@refine.dev"),"\n",(0,r.kt)("strong",{parentName:"p"},"Password"),": demodemo"),(0,r.kt)("p",null,"Check that the URL is routed to /posts and that posts are present."),(0,r.kt)("h4",{id:"handling-relationships"},"Handling Relationships"),(0,r.kt)("p",null,"When retrieving recorda, relations are not populated. Hence, We will use the ",(0,r.kt)("inlineCode",{parentName:"p"},"metaData")," option to populate the Strapi v4 API with relational data (category data in our case)."),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://refine.dev/docs/advanced-tutorials/data-provider/strapi-v4/#relations-population"},"Refer to docs for handling relations with strapi")),(0,r.kt)("p",null,"We will populate records with a ",(0,r.kt)("inlineCode",{parentName:"p"},"category id")," field from the ",(0,r.kt)("inlineCode",{parentName:"p"},"/posts")," endpoint with their respective titles. To automatically get ",(0,r.kt)("inlineCode",{parentName:"p"},"category titles")," from the ",(0,r.kt)("inlineCode",{parentName:"p"},"/categories "),"endpoint for each record and display them on our table, we must use Strapi v4's populate feature."),(0,r.kt)("p",null,"We'll use the populate parameter to specify which fields should be filled in. we will assign an array to the populate parameter which will contain the map the values from the ",(0,r.kt)("inlineCode",{parentName:"p"},"/categories")," endpoint to the records with a ",(0,r.kt)("inlineCode",{parentName:"p"},"category id")," on the ",(0,r.kt)("inlineCode",{parentName:"p"},"/posts")," endpoint. The ",(0,r.kt)("inlineCode",{parentName:"p"},"populate")," parameter will be a property of the ",(0,r.kt)("inlineCode",{parentName:"p"},"metaData")," property which is subsequently a property of the ",(0,r.kt)("inlineCode",{parentName:"p"},"refineCoreProps")," object."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/posts/list.tsx"',title:'"src/pages/posts/list.tsx"'},'const {\n    getHeaderGroups,\n    getRowModel,\n    setOptions,\n    refineCore: {\n        setCurrent,\n        pageCount,\n        current,\n        tableQueryResult: { data: tableData },\n    },\n} = useTable({\n    columns,\n    refineCoreProps: {\n        metaData: {\n            populate: ["category"],\n        },\n    },\n});\n')),(0,r.kt)("p",null,"To show category field in table, we need to add new column to the PostList component."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/posts/list.tsx"',title:'"src/pages/posts/list.tsx"'},'const columns = React.useMemo<GridColumns<IPost>>(\n    () => [\n        ...\n        {\n            id: "category",\n            accessorKey: "category.title",\n            header: "Category",\n            cell: function render({ getValue, table }) {\n                   return getValue();\n                 }\n        },\n        ...\n          ],\n        [],\n    );\n')),(0,r.kt)("div",{class:"img-container"},(0,r.kt)("div",{class:"window"},(0,r.kt)("div",{class:"control red"}),(0,r.kt)("div",{class:"control orange"}),(0,r.kt)("div",{class:"control green"})),(0,r.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog%2F2023-03-03-ra-chakra-tutorial%2Fhandling-relationships.png",alt:"react admin tutorial"})),(0,r.kt)("br",null),(0,r.kt)("h4",{id:"pagination-of-listed-records"},"Pagination Of Listed Records"),(0,r.kt)("p",null,"Next, we will add Pagination to our application. in order to achieve this, the ",(0,r.kt)("inlineCode",{parentName:"p"},"usePagination")," hook provides certain functions that handle pagination. They are:"),(0,r.kt)("p",null,"We will go to update the ",(0,r.kt)("inlineCode",{parentName:"p"},"<PostList/>")," component with the code below:"),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Show code "),(0,r.kt)("p",null,(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/posts/list.tsx"',title:'"src/pages/posts/list.tsx"'},'import React from "react";\nimport {\n    IResourceComponentsProps,\n    GetManyResponse,\n    useMany,\n} from "@refinedev/core";\nimport { useTable, ColumnDef, flexRender } from "@refinedev/react-table";\nimport {\n    List,\n    usePagination,\n    EditButton,\n    ShowButton,\n    DeleteButton,\n    DateField,\n} from "@refinedev/chakra-ui";\nimport {\n    TableContainer,\n    Table,\n    Thead,\n    Tr,\n    Th,\n    Tbody,\n    Td,\n    HStack,\n    Button,\n    IconButton,\n    Box,\n} from "@chakra-ui/react";\nimport { IconChevronRight, IconChevronLeft } from "@tabler/icons";\nimport { IPost } from "interfaces";\n\nexport const PostList: React.FC<IResourceComponentsProps> = () => {\n    const columns = React.useMemo<ColumnDef<IPost>[]>(\n        () => [\n            ...\n        ],\n        [],\n    );\n\n\n    const {\n        getHeaderGroups,\n        getRowModel,\n        setOptions,\n        refineCore: {\n            setCurrent,\n            pageCount,\n            current,\n            tableQueryResult: { data: tableData },\n        },\n    } = useTable({\n        columns,\n    });\n\n    setOptions((prev) => ({\n        ...prev,\n        meta: {\n            ...prev.meta,\n        },\n    }));\n\n    return (\n        <List>\n            ...\n            <Pagination\n                current={current}\n                pageCount={pageCount}\n                setCurrent={setCurrent}\n            />\n        </List>\n    );\n};\n\ntype PaginationProps = {\n    current: number;\n    pageCount: number;\n    setCurrent: (page: number) => void;\n};\n\nconst Pagination: React.FC<PaginationProps> = ({\n    current,\n    pageCount,\n    setCurrent,\n}) => {\n    const pagination = usePagination({\n        current,\n        pageCount,\n    });\n\n    return (\n        <Box display="flex" justifyContent="flex-end">\n            <HStack my="3" spacing="1">\n                {pagination?.prev && (\n                    <IconButton\n                        aria-label="previous page"\n                        onClick={() => setCurrent(current - 1)}\n                        disabled={!pagination?.prev}\n                        variant="outline"\n                    >\n                        <IconChevronLeft size="18" />\n                    </IconButton>\n                )}\n\n                {pagination?.items.map((page) => {\n                    if (typeof page === "string")\n                        return <span key={page}>...</span>;\n\n                    return (\n                        <Button\n                            key={page}\n                            onClick={() => setCurrent(page)}\n                            variant={page === current ? "solid" : "outline"}\n                        >\n                            {page}\n                        </Button>\n                    );\n                })}\n                {pagination?.next && (\n                    <IconButton\n                        aria-label="next page"\n                        onClick={() => setCurrent(current + 1)}\n                        variant="outline"\n                    >\n                        <IconChevronRight size="18" />\n                    </IconButton>\n                )}\n            </HStack>\n        </Box>\n    );\n};\n')))),(0,r.kt)("p",null,"In the code above, we create a ",(0,r.kt)("inlineCode",{parentName:"p"},"<Pagination/>")," components which accepts properties:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"current"),": This property holds the current page number obtained from the ",(0,r.kt)("inlineCode",{parentName:"li"},"useTable()")," hook,"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"pageCount"),": This property holds the total amount of pages present from the ",(0,r.kt)("inlineCode",{parentName:"li"},"useTable()")," hook,"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"setCurrent()"),": This property sets the current page number to an value. it handles the navigation to either the next page or the previous page.")),(0,r.kt)("h3",{id:"viewing-a-record"},"Viewing a record"),(0,r.kt)("p",null,"To view a record, we will use the ",(0,r.kt)("a",{parentName:"p",href:"https://refine.dev/docs/api-reference/core/hooks/show/useShow/"},(0,r.kt)("inlineCode",{parentName:"a"},"useShow()"))," hook, which is included in the ",(0,r.kt)("inlineCode",{parentName:"p"},"@refinedev/core")," package.\nThe hook ",(0,r.kt)("inlineCode",{parentName:"p"},"useShow()")," allows you to retrieve the desired record. It uses the ",(0,r.kt)("inlineCode",{parentName:"p"},"getOne")," method from the dataProvider passed to ",(0,r.kt)("inlineCode",{parentName:"p"},"<Refine/>")," as the query function."),(0,r.kt)("p",null,"We'll add a ",(0,r.kt)("inlineCode",{parentName:"p"},"show.tsx")," file in the ",(0,r.kt)("inlineCode",{parentName:"p"},"posts")," folder under the ",(0,r.kt)("inlineCode",{parentName:"p"},"pages")," folder next, with the following code:"),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Show code "),(0,r.kt)("p",null,(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/posts/show.tsx"',title:'"src/pages/posts/show.tsx"'},'import { useOne, useShow } from "@refinedev/core";\nimport { Show, NumberField, TextField } from "@refinedev/chakra-ui";\nimport { Heading } from "@chakra-ui/react";\n\nexport const PostShow = () => {\n    const { queryResult } = useShow({\n        metaData: {\n            populate: ["category"],\n        },\n    });\n    const { data, isLoading } = queryResult;\n\n    const record = data?.data;\n\n    const { data: categoryData, isLoading: categoryIsLoading } = useOne({\n        resource: "categories",\n        id: record?.category?.id || "",\n        queryOptions: {\n            enabled: !!record,\n        },\n    });\n\n    return (\n        <Show isLoading={isLoading}>\n            <Heading as="h5" size="sm" mt={4}>\n                Id\n            </Heading>\n            <NumberField value={record?.id ?? ""} />\n\n            <Heading as="h5" size="sm" mt={4}>\n                Title\n            </Heading>\n            <TextField value={record?.title} />\n\n            <Heading as="h5" size="sm" mt={4}>\n                Category\n            </Heading>\n\n            {categoryIsLoading ? (\n                <>Loading...</>\n            ) : (\n                <>{categoryData?.data?.title}</>\n            )}\n\n            <Heading as="h5" size="sm" mt={4}>\n                Content\n            </Heading>\n            <TextField value={record?.content} />\n\n            <Heading as="h5" size="sm" mt={4}>\n                Created At\n            </Heading>\n            <DateField value={record?.createdAt} />\n\n            <Heading as="h5" size="sm" mt={4}>\n                Published At\n            </Heading>\n            <DateField value={record?.publishedAt} />\n\n            <Heading as="h5" size="sm" mt={4}>\n                Locale\n            </Heading>\n            <TextField value={record?.locale} />\n        </Show>\n    );\n};\n')))),(0,r.kt)("p",null,"After this, we can now add the component ",(0,r.kt)("inlineCode",{parentName:"p"},"<PostShow/>")," in the ",(0,r.kt)("inlineCode",{parentName:"p"},"show.tsx")," file to our resource present in the ",(0,r.kt)("inlineCode",{parentName:"p"},"App.tsx")," file"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/App.tsx"',title:'"src/App.tsx"'},"...\nimport {\n    PostList,\n    //highlight-next-line\n    PostShow\n} from './pages/posts';\n\nfunction App() {\n  return (\n    <ChakraProvider theme={refineTheme}>\n      <Refine\n         ...\n          {\n            name: \"posts\",\n            list: PostList,\n            //highlight-next-line\n            show: PostShow,\n          }\n        ]}\n      />\n    </ChakraProvider>\n  );\n}\n\nexport default App;\n")),(0,r.kt)("div",{class:"img-container"},(0,r.kt)("div",{class:"window"},(0,r.kt)("div",{class:"control red"}),(0,r.kt)("div",{class:"control orange"}),(0,r.kt)("div",{class:"control green"})),(0,r.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog%2F2023-03-03-ra-chakra-tutorial%2Fviewing.png",alt:"react admin tutorial"})),(0,r.kt)("br",null),(0,r.kt)("hr",null),(0,r.kt)(c,{title:"Is your CRUD app overloaded with technical debt?",image:"https://refine.ams3.cdn.digitaloceanspaces.com/website/static/img/generic_banner.png",mdxType:"PromotionBanner"}),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"creating-a-record"},"Creating a record"),(0,r.kt)("p",null,"To create a record, we will use the ",(0,r.kt)("inlineCode",{parentName:"p"},"@refinedev/react-hook-form")," package.\nIt provides the ",(0,r.kt)("a",{parentName:"p",href:"https://refine.dev/docs/examples/form/chakra-ui/useForm/"},(0,r.kt)("inlineCode",{parentName:"a"},"useForm()"))," hook, which includes form validation and handles our form submission request to Strapi."),(0,r.kt)("p",null,"Next, in the ",(0,r.kt)("inlineCode",{parentName:"p"},"posts")," folder under the ",(0,r.kt)("inlineCode",{parentName:"p"},"pages")," folder, we'll include a ",(0,r.kt)("inlineCode",{parentName:"p"},"create"),".tsx file with the following code:"),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Show code"),(0,r.kt)("p",null,(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/posts/create.tsx"',title:'"src/pages/posts/create.tsx"'},'import React from "react";\nimport { Create } from "@refinedev/chakra-ui";\nimport {\n    FormControl,\n    FormLabel,\n    FormErrorMessage,\n    Input,\n    Textarea,\n    Select,\n} from "@chakra-ui/react";\nimport { useSelect } from "@refinedev/core";\nimport { useForm } from "@refinedev/react-hook-form";\n\nexport const PostCreate = () => {\n    const {\n        refineCore: { formLoading, queryResult },\n        saveButtonProps,\n        register,\n        resetField,\n        formState: { errors },\n    } = useForm();\n\n    const postsData = queryResult?.data?.data;\n\n    const { options: categoryOptions } = useSelect({\n        resource: "categories",\n        defaultValue: postsData?.category?.id,\n    });\n\n    React.useEffect(() => {\n        resetField("category.id");\n    }, [categoryOptions]);\n\n    return (\n        <Create isLoading={formLoading} saveButtonProps={saveButtonProps}>\n            <FormControl mb="3" isInvalid={!!(errors as any)?.title}>\n                <FormLabel>Title</FormLabel>\n                <Input\n                    type="text"\n                    {...register("title", {\n                        required: "This field is required",\n                    })}\n                />\n                <FormErrorMessage>\n                    {(errors as any)?.title?.message as string}\n                </FormErrorMessage>\n            </FormControl>\n\n            <FormControl mb="3" isInvalid={!!(errors as any)?.title}>\n                <FormLabel>Content</FormLabel>\n                <Textarea\n                    {...register("content", {\n                        required: "This field is required",\n                    })}\n                />\n                <FormErrorMessage>\n                    {(errors as any)?.title?.message as string}\n                </FormErrorMessage>\n            </FormControl>\n\n            <FormControl mb="3" isInvalid={!!errors?.category}>\n                <FormLabel>Category</FormLabel>\n                <Select\n                    placeholder="Select category"\n                    {...register("category.id", {\n                        required: "This field is required",\n                    })}\n                >\n                    {categoryOptions?.map((option) => (\n                        <option value={option.value} key={option.value}>\n                            {option.label}\n                        </option>\n                    ))}\n                </Select>\n                <FormErrorMessage>\n                    {(errors as any)?.category?.id?.message as string}\n                </FormErrorMessage>\n            </FormControl>\n        </Create>\n    );\n};\n')))),(0,r.kt)("p",null,"In the code above, we used the ",(0,r.kt)("inlineCode",{parentName:"p"},"useForm()")," hook to create records. This hook comes from the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/refinedev/refine/tree/master/packages/react-hook-form"},"(@refinedev/react-hook-form)")," which is a refine adapter of the ",(0,r.kt)("a",{parentName:"p",href:"https://react-hook-form.com/"},"React Hook Form")," library. This library allows you to use the ",(0,r.kt)("a",{parentName:"p",href:"https://react-hook-form.com/"},"React Hook Form")," library with refine. More information about the ",(0,r.kt)("inlineCode",{parentName:"p"},"useForm()")," hook can be obtained ",(0,r.kt)("a",{parentName:"p",href:"https://refine.dev/docs/packages/documentation/react-hook-form/useForm/"},"here"),"."),(0,r.kt)("p",null,"we use methods provided by the ",(0,r.kt)("inlineCode",{parentName:"p"},"useForm()")," hook like ",(0,r.kt)("inlineCode",{parentName:"p"},"register()")," to validate the new post we will add into Strapi.\nThe hooks also provide an object like ",(0,r.kt)("inlineCode",{parentName:"p"},"saveButtonProps")," which accepts the properties shown below:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"{\n    disabled: boolean;\n    onClick: (e: React.BaseSyntheticEvent<object, any, any>) => void;\n}\n")),(0,r.kt)("p",null,"These properties handles the submission of the form action, button loading, and disable states."),(0,r.kt)("p",null,"After this, we can now add the component ",(0,r.kt)("inlineCode",{parentName:"p"},"<PostCreate/>")," in the ",(0,r.kt)("inlineCode",{parentName:"p"},"create.tsx")," file to our resource present in the ",(0,r.kt)("inlineCode",{parentName:"p"},"App.tsx")," file"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/App.tsx"',title:'"src/App.tsx"'},"...\nimport {\n     //highlight-next-line\n     PostCreate\n} from './pages/posts';\n\nfunction App() {\n  return (\n    <ChakraProvider theme={refineTheme}>\n      <Refine\n        ...\n        resources={[\n          {\n            name: \"posts\",\n            list: PostList,\n            show: PostShow,\n            //highlight-next-line\n            create: PostCreate,\n          }\n        ]}\n      />\n    </ChakraProvider>\n  );\n}\n\nexport default App;\n")),(0,r.kt)("div",{class:"img-container"},(0,r.kt)("div",{class:"window"},(0,r.kt)("div",{class:"control red"}),(0,r.kt)("div",{class:"control orange"}),(0,r.kt)("div",{class:"control green"})),(0,r.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog%2F2023-03-03-ra-chakra-tutorial%2Fcreating-record-min.gif",alt:"react admin tutorial"})),(0,r.kt)("br",null),(0,r.kt)("h3",{id:"modifyingediting-records"},"Modifying/Editing records."),(0,r.kt)("p",null,"For editing a record, we will add an ",(0,r.kt)("inlineCode",{parentName:"p"},"edit.tsx")," file In the ",(0,r.kt)("inlineCode",{parentName:"p"},"posts")," folder under the pages folder and add the code below to the file:"),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Show code"),(0,r.kt)("p",null,(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/posts/edit.tsx"',title:'"src/pages/posts/edit.tsx"'},'import React from "react";\nimport { Edit } from "@refinedev/chakra-ui";\nimport {\n    FormControl,\n    FormLabel,\n    FormErrorMessage,\n    Input,\n    Select,\n} from "@chakra-ui/react";\nimport { useForm } from "@refinedev/react-hook-form";\nimport { useSelect } from "@refinedev/core";\n\nexport const PostEdit = () => {\n    const {\n        refineCore: { formLoading, queryResult },\n        saveButtonProps,\n        register,\n        resetField,\n        formState: { errors },\n    } = useForm({\n        refineCoreProps: {\n            metaData: {\n                populate: ["category"],\n            },\n        },\n    });\n\n    const postsData = queryResult?.data?.data;\n\n    const { options: categoryOptions } = useSelect({\n        resource: "categories",\n        defaultValue: postsData?.category?.id,\n    });\n\n    React.useEffect(() => {\n        resetField("category.id");\n    }, [categoryOptions]);\n\n    return (\n        <Edit isLoading={formLoading} saveButtonProps={saveButtonProps}>\n            <FormControl mb="3" isInvalid={!!(errors as any)?.id}>\n                <FormLabel>Id</FormLabel>\n                <Input\n                    disabled\n                    type="number"\n                    {...register("id", {\n                        required: "This field is required",\n                    })}\n                />\n                <FormErrorMessage>\n                    {(errors as any)?.id?.message as string}\n                </FormErrorMessage>\n            </FormControl>\n\n            <FormControl mb="3" isInvalid={!!(errors as any)?.title}>\n                <FormLabel>Title</FormLabel>\n                <Input\n                    type="text"\n                    {...register("title", {\n                        required: "This field is required",\n                    })}\n                />\n                <FormErrorMessage>\n                    {(errors as any)?.title?.message as string}\n                </FormErrorMessage>\n            </FormControl>\n\n            <FormControl mb="3" isInvalid={!!(errors as any)?.content}>\n                <FormLabel>Content</FormLabel>\n                <Input\n                    type="text"\n                    {...register("content", {\n                        required: "This field is required",\n                    })}\n                />\n                <FormErrorMessage>\n                    {(errors as any)?.content?.message as string}\n                </FormErrorMessage>\n            </FormControl>\n\n            <FormControl mb="3" isInvalid={!!errors?.category}>\n                <FormLabel>Category</FormLabel>\n                <Select\n                    placeholder="Select category"\n                    {...register("category.id", {\n                        required: "This field is required",\n                    })}\n                >\n                    {categoryOptions?.map((option) => (\n                        <option value={option.value} key={option.value}>\n                            {option.label}\n                        </option>\n                    ))}\n                </Select>\n                <FormErrorMessage>\n                    {(errors as any)?.category?.id?.message as string}\n                </FormErrorMessage>\n            </FormControl>\n\n            <FormControl mb="3" isInvalid={!!(errors as any)?.createdAt}>\n                <FormLabel>Created At</FormLabel>\n                <Input\n                    disabled\n                    {...register("createdAt", {\n                        required: "This field is required",\n                    })}\n                />\n                <FormErrorMessage>\n                    {(errors as any)?.createdAt?.message as string}\n                </FormErrorMessage>\n            </FormControl>\n\n            <FormControl mb="3" isInvalid={!!(errors as any)?.updatedAt}>\n                <FormLabel>Updated At</FormLabel>\n                <Input\n                    disabled\n                    {...register("updatedAt", {\n                        required: "This field is required",\n                    })}\n                />\n                <FormErrorMessage>\n                    {(errors as any)?.updatedAt?.message as string}\n                </FormErrorMessage>\n            </FormControl>\n\n            <FormControl mb="3" isInvalid={!!(errors as any)?.publishedAt}>\n                <FormLabel>Published At</FormLabel>\n                <Input\n                    disabled\n                    {...register("publishedAt", {\n                        required: "This field is required",\n                    })}\n                />\n                <FormErrorMessage>\n                    {(errors as any)?.publishedAt?.message as string}\n                </FormErrorMessage>\n            </FormControl>\n\n            <FormControl mb="3" isInvalid={!!(errors as any)?.locale}>\n                <FormLabel>Locale</FormLabel>\n                <Input\n                    disabled\n                    type="text"\n                    {...register("locale", {\n                        required: "This field is required",\n                    })}\n                />\n                <FormErrorMessage>\n                    {(errors as any)?.locale?.message as string}\n                </FormErrorMessage>\n            </FormControl>\n        </Edit>\n    );\n};\n')))),(0,r.kt)("p",null,"In the code above, just like in the ",(0,r.kt)("inlineCode",{parentName:"p"},"<PostCreate/>")," component, we use methods provided by the ",(0,r.kt)("inlineCode",{parentName:"p"},"useForm()")," hook like ",(0,r.kt)("inlineCode",{parentName:"p"},"register()")," to validate the new post we will add into Strapi.\nThe hooks also provide an object like ",(0,r.kt)("inlineCode",{parentName:"p"},"saveButtonProps")," which handles the submission of the form action, button loading, and disable states"),(0,r.kt)("p",null,"After this, we can now add the component ",(0,r.kt)("inlineCode",{parentName:"p"},"<PostEdit/>")," in the ",(0,r.kt)("inlineCode",{parentName:"p"},"edit.tsx")," file to our resource present in the ",(0,r.kt)("inlineCode",{parentName:"p"},"App.tsx")," file"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/App.tsx"',title:'"src/App.tsx"'},'import {\n     ...\n     // highlight-next-line\n     PostEdit\n} from "./pages/posts";\n\n\nfunction App() {\n  return (\n    <ChakraProvider theme={refineTheme}>\n      <Refine\n        ...\n        resources={[\n          {\n            name: "posts",\n            list: PostList,\n            show: PostShow,\n            create: PostCreate,\n            // highlight-next-line\n            edit: PostEdit,\n          }\n        ]}\n      />\n    </ChakraProvider>\n  );\n}\n\nexport default App;\n')),(0,r.kt)("div",{class:"img-container"},(0,r.kt)("div",{class:"window"},(0,r.kt)("div",{class:"control red"}),(0,r.kt)("div",{class:"control orange"}),(0,r.kt)("div",{class:"control green"})),(0,r.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog%2F2023-03-03-ra-chakra-tutorial%2Fediting-record-min.gif",alt:"react admin tutorial"})),(0,r.kt)("br",null),(0,r.kt)("h3",{id:"deleting-post-record"},"Deleting post record"),(0,r.kt)("p",null,"To delete a record, We'll add a ",(0,r.kt)("strong",{parentName:"p"},"Delete")," button so we'll need to update our ",(0,r.kt)("inlineCode",{parentName:"p"},"<PostList/> "),"component to include the button to the actions row. Add the highlighted lines below to the existing list component."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/posts/list.tsx"',title:'"src/pages/posts/list.tsx"'},'...\nexport const PostList: React.FC = () => {\n const { show, edit, create } = useNavigation();\n const { mutate } = useDelete();\n\n const columns = React.useMemo<ColumnDef<IPost>[]>(\n   () => [\n    ...,\n    // highlight-start\n      {\n                id: "actions",\n                accessorKey: "id",\n                header: "Actions",\n                cell: function render({ getValue }) {\n                    return (\n                        <HStack>\n                            ...\n                             <DeleteButton\n                                hideText\n                                recordItemId={getValue() as string}\n                            />\n                        </HStack>\n                    );\n                },\n        },\n    // highlight-end\n   [],\n );\n};\n')),(0,r.kt)("p",null,"Another way to include a delete button on the ",(0,r.kt)("inlineCode",{parentName:"p"},"<PostEdit>")," page. To display the delete button on the edit page and the view page, the ",(0,r.kt)("inlineCode",{parentName:"p"},"canDelete")," prop must be passed to the resource object."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/App.tsx"',title:'"src/App.tsx"'},"...\nfunction App() {\n  return (\n    <ChakraProvider theme={refineTheme}>\n      <Refine\n        ...\n        resources={[\n          {\n            ...\n            // highlight-next-line\n            canDelete: true,\n          }\n        ]}\n      />\n    </ChakraProvider>\n  );\n}\n\nexport default App;\n")),(0,r.kt)("div",{class:"img-container"},(0,r.kt)("div",{class:"window"},(0,r.kt)("div",{class:"control red"}),(0,r.kt)("div",{class:"control orange"}),(0,r.kt)("div",{class:"control green"})),(0,r.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog%2F2023-03-03-ra-chakra-tutorial%2Fdeleting-post-record.png",alt:"react admin tutorial"})),(0,r.kt)("br",null),(0,r.kt)("h3",{id:"implement-sorting-of-listed-records"},"Implement sorting of listed records"),(0,r.kt)("p",null,"Since the ",(0,r.kt)("inlineCode",{parentName:"p"},"@refinedev/react-table package")," is based on the ",(0,r.kt)("inlineCode",{parentName:"p"},"Tanstack")," Table package, we can add sorting and filtering features to our table."),(0,r.kt)("p",null,"Let's make a ",(0,r.kt)("inlineCode",{parentName:"p"},"<ColumnSorter/>")," component for our table header. This component will be in charge of changing the table's sorting state.\nwe create a new folder named ",(0,r.kt)("inlineCode",{parentName:"p"},"components")," under the ",(0,r.kt)("inlineCode",{parentName:"p"},"src")," folder. Under that folder, add a ",(0,r.kt)("inlineCode",{parentName:"p"},"ColumnSorter.tsx")," file with the following code:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/components/ColumnSorter.tsx"',title:'"src/components/ColumnSorter.tsx"'},'import { IconButton } from "@chakra-ui/react";\nimport { IconChevronDown, IconSelector, IconChevronUp } from "@tabler/icons";\nimport { Column } from "@tanstack/react-table";\n\nexport const ColumnSorter: React.FC<{ column: Column<any, any> }> = ({\n    column,\n}) => {\n    if (!column.getCanSort()) {\n        return null;\n    }\n\n    const sorted = column.getIsSorted();\n\n    return (\n        <IconButton\n            aria-label="Sort"\n            size="xs"\n            onClick={column.getToggleSortingHandler()}\n        >\n            {!sorted && <IconSelector size={18} />}\n            {sorted === "asc" && <IconChevronDown size={18} />}\n            {sorted === "desc" && <IconChevronUp size={18} />}\n        </IconButton>\n    );\n};\n')),(0,r.kt)("p",null,"In the code above, the ",(0,r.kt)("inlineCode",{parentName:"p"},"<ColumnSorter/>")," is a simple component that displays a button.\nThe ",(0,r.kt)("inlineCode",{parentName:"p"},"column.getToggleSortingHandler()")," method is called when the user clicks on the button. This method will alter the table's sorting state."),(0,r.kt)("p",null,"Also, we use the ",(0,r.kt)("inlineCode",{parentName:"p"},"column.getCanSort()")," method to determine if the column is sortable. If it is, We will render the ",(0,r.kt)("inlineCode",{parentName:"p"},"<ColumnSorter/>")," component and vice-versa."),(0,r.kt)("p",null,"Once the column is sorted, the ",(0,r.kt)("inlineCode",{parentName:"p"},"IconChevronDown")," icon will be rendered. Otherwise, the ",(0,r.kt)("inlineCode",{parentName:"p"},"IconSelector")," icon will be rendered."),(0,r.kt)("p",null,"Next, we import the ",(0,r.kt)("inlineCode",{parentName:"p"},"<ColumnSorter/>")," component to the list.tsx file located at the ",(0,r.kt)("inlineCode",{parentName:"p"},"src/pages/posts/")," directory and add the component to the ",(0,r.kt)("inlineCode",{parentName:"p"},"<Th/>")," of the table as a child as shown below:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/posts/list.tsx"',title:'"src/pages/posts/list.tsx"'},'...\nimport { ColumnSorter } from "components/ColumnSorter";\n\n<Thead>\n{getHeaderGroups().map((headerGroup) => (\n    <Tr key={headerGroup.id}>\n        {headerGroup.headers.map((header) => (\n            <Th key={header.id}>\n                {\n            !header.isPlaceholder\n            && flexRender(header.column.columnDef.header,\n                                                 header.getContext(),\n        )}\n            <ColumnSorter column={header.column} />\n\n            </Th>\n        ))}\n    </Tr>\n    ))}\n</Thead>\n')),(0,r.kt)("p",null,"You can set the ",(0,r.kt)("inlineCode",{parentName:"p"},"enableSorting")," property of the column to false in the column definition to disable sorting for the `",(0,r.kt)("strong",{parentName:"p"},"actions")," column, as shown below:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/posts/list.tsx"',title:'"src/pages/posts/list.tsx"'},'{\n    id: "actions",\n    accessorKey: "id",\n    header: "Actions",\n    enableSorting: false,\n    ...\n},\n')),(0,r.kt)("h3",{id:"implement-filters-on-listed-records"},"Implement filters on listed records"),(0,r.kt)("p",null,"Firstly, Let's make a ",(0,r.kt)("inlineCode",{parentName:"p"},"<ColumnFilter/>")," component for our table header. This component will handle the filtering of listed records.\nwe create a new folder named ",(0,r.kt)("inlineCode",{parentName:"p"},"components")," under the ",(0,r.kt)("inlineCode",{parentName:"p"},"src")," folder. Under that folder, add a ",(0,r.kt)("inlineCode",{parentName:"p"},"ColumnFilter.tsx")," file with the following code:"),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Show code"),(0,r.kt)("p",null,(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/components/ColumnFilter.tsx"',title:'"src/components/ColumnFilter.tsx"'},'import React, { useState } from "react";\nimport {\n    Input,\n    Menu,\n    IconButton,\n    MenuButton,\n    MenuList,\n    VStack,\n    HStack,\n} from "@chakra-ui/react";\nimport { IconFilter, IconX, IconCheck } from "@tabler/icons";\nimport { Column } from "@tanstack/react-table";\n\nexport const ColumnFilter: React.FC<{ column: Column<any, any> }> = ({\n    column,\n}) => {\n    const [state, setState] = useState(null as null | { value: any });\n\n    if (!column.getCanFilter()) {\n        return null;\n    }\n\n    const open = () =>\n        setState({\n            value: column.getFilterValue(),\n        });\n\n    const close = () => setState(null);\n\n    const change = (value: any) => setState({ value });\n\n    const clear = () => {\n        column.setFilterValue(undefined);\n        close();\n    };\n\n    const save = () => {\n        if (!state) return;\n        column.setFilterValue(state.value);\n        close();\n    };\n\n    const renderFilterElement = () => {\n        const FilterComponent = (column.columnDef?.meta as any)?.filterElement;\n\n        if (!FilterComponent && !!state) {\n            return (\n                <Input\n                    borderRadius="md"\n                    size="sm"\n                    autoComplete="off"\n                    value={state.value}\n                    onChange={(e) => change(e.target.value)}\n                />\n            );\n        }\n\n        return (\n            <FilterComponent\n                value={state?.value}\n                onChange={(e: any) => change(e.target.value)}\n            />\n        );\n    };\n\n    return (\n        <Menu isOpen={!!state} onClose={close}>\n            <MenuButton\n                onClick={open}\n                as={IconButton}\n                aria-label="Options"\n                icon={<IconFilter size="16" />}\n                variant="ghost"\n                size="xs"\n            />\n            <MenuList p="2">\n                {!!state && (\n                    <VStack align="flex-start">\n                        {renderFilterElement()}\n                        <HStack spacing="1">\n                            <IconButton\n                                aria-label="Clear"\n                                size="sm"\n                                colorScheme="red"\n                                onClick={clear}\n                            >\n                                <IconX size={18} />\n                            </IconButton>\n                            <IconButton\n                                aria-label="Save"\n                                size="sm"\n                                onClick={save}\n                                colorScheme="green"\n                            >\n                                <IconCheck size={18} />\n                            </IconButton>\n                        </HStack>\n                    </VStack>\n                )}\n            </MenuList>\n        </Menu>\n    );\n};\n')))),(0,r.kt)("p",null,"In the code above, ",(0,r.kt)("inlineCode",{parentName:"p"},"<ColumnFilter/>")," is a button. on clicking the button, a menu will be opened. In the menu exists a filter element of the column that is being rendered. The filter element is an ",(0,r.kt)("inlineCode",{parentName:"p"},"<Input/>")," component in which you can add a value which will be used to subsequently filter the records based on that value."),(0,r.kt)("p",null,"Next, we Import the ",(0,r.kt)("inlineCode",{parentName:"p"},"<ColumnFilter/>")," component to the list.tsx file located at the ",(0,r.kt)("inlineCode",{parentName:"p"},"src/pages/posts/")," directory and add the component to the ",(0,r.kt)("inlineCode",{parentName:"p"},"<Th/>")," of the table just like we did the ",(0,r.kt)("inlineCode",{parentName:"p"},"<ColumnSorter/>")," component."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/posts/list.tsx"',title:'"src/pages/posts/list.tsx"'},'import { ColumnFilter } from "components/ColumnFilter";\n\n....\n\n<Thead>\n{getHeaderGroups().map((headerGroup) => (\n    <Tr key={headerGroup.id}>\n        {headerGroup.headers.map((header) => (\n            <Th key={header.id}>\n                {\n            !header.isPlaceholder\n            && flexRender(header.column.columnDef.header,\n                                                 header.getContext(),\n        )}\n            <ColumnSorter column={header.column} />\n            <ColumnFilter column={header.column} />\n            </Th>\n        ))}\n    </Tr>\n    ))}\n</Thead>\n')),(0,r.kt)("p",null,"We can change the ",(0,r.kt)("inlineCode",{parentName:"p"},"filter"),' operator for columns to "',(0,r.kt)("inlineCode",{parentName:"p"},"contains"),'". The filterOperator is set to ',(0,r.kt)("inlineCode",{parentName:"p"},'"eq"'),' by default. As a result, we changed the filterOperator for specific columns to "',(0,r.kt)("inlineCode",{parentName:"p"},"contains"),'" as shown below:'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/posts/list.tsx"',title:'"src/pages/posts/list.tsx"'},'{\n    id: "id",\n    accessorKey: "id",\n    header: "Id",\n    meta: {\n        filterOperator: "contains",\n    },\n},\n{\n    id: "title",\n    accessorKey: "title",\n    header: "Title",\n    meta: {\n        filterOperator: "contains",\n    },\n},\n{\n    id: "category",\n    accessorKey: "category.title",\n    header: "Category",\n    meta: {\n        filterOperator: "contains",\n    },\n    ...\n},\n{\n    id: "createdAt",\n    accessorKey: "createdAt",\n    header: "Created At",\n    ...\n},\n')),(0,r.kt)("p",null,"We can also disable filtering for the ",(0,r.kt)("inlineCode",{parentName:"p"},"actions")," column by setting the column's enableColumnFilter property to false in the column definition, as shown below:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/posts/list.tsx"',title:'"src/pages/posts/list.tsx"'},'{\n    id: "actions",\n    accessorKey: "id",\n    header: "Actions",\n    enableColumnFilter: false,\n    ...\n},\n')),(0,r.kt)("div",{class:"img-container"},(0,r.kt)("div",{class:"window"},(0,r.kt)("div",{class:"control red"}),(0,r.kt)("div",{class:"control orange"}),(0,r.kt)("div",{class:"control green"})),(0,r.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog%2F2023-03-03-ra-chakra-tutorial%2Ffiltering-min.gif",alt:"react admin tutorial"})),(0,r.kt)("br",null),(0,r.kt)("h3",{id:"implementing-mutation-mode"},"Implementing mutation mode."),(0,r.kt)("p",null,"Mutation modes controls how side-effects or actions like deletion, creation, updating, etc are applied. refine provides three mutation modes namely:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"pessimistic: In this mode, UI updates are delayed until the server confirms the mutation."),(0,r.kt)("li",{parentName:"ul"},"undoable: In this mode, UI updates are immediately applied, but the mutation can be reversed."),(0,r.kt)("li",{parentName:"ul"},"optimistic: UI updates are immediately updated before confirmed by server.")),(0,r.kt)("p",null,"We will implement undoable mutation mode. The mutation is applied locally, and redirection and UI updates are performed as soon as the mutation is successful. It then Waits for a configurable amount of time before applying the mutation."),(0,r.kt)("p",null,"During the timeout, the mutation from the notification can be cancelled using an undo button and the UI will revert the changes to its previous state."),(0,r.kt)("p",null,"To enable mutation mode, we will set the ",(0,r.kt)("inlineCode",{parentName:"p"},"mutationMode")," property in the Refine component options property."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/App.tsx"',title:'"src/App.tsx"'},'...\nfunction App() {\n  return (\n    <ChakraProvider theme={refineTheme}>\n      <Refine\n        ...\n        options={{ mutationMode: "undoable" }}\n      />\n    </ChakraProvider>\n  );\n}\nexport default App;\n')),(0,r.kt)("div",{class:"img-container"},(0,r.kt)("div",{class:"window"},(0,r.kt)("div",{class:"control red"}),(0,r.kt)("div",{class:"control orange"}),(0,r.kt)("div",{class:"control green"})),(0,r.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog%2F2023-03-03-ra-chakra-tutorial%2Fmutationmode-min.gif",alt:"react admin tutorial"})),(0,r.kt)("br",null),(0,r.kt)("h2",{id:"conclusion"},"Conclusion"),(0,r.kt)("p",null,"In this article, we covered how to create a React admin panel with refine. We also learnt:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"How to bootstrap a refine application."),(0,r.kt)("li",{parentName:"ul"},"Connecting a Strapiv4 data provider to a refine application."),(0,r.kt)("li",{parentName:"ul"},"implemented CRUD operations on a refine application.")),(0,r.kt)("p",null,"If you're looking to build a robust and dynamic admin panel for your web application, then this React admin tutorial is just what you need."),(0,r.kt)("p",null,"This article demonstrates the flexibility that comes with using refine to create web applications. refine is a fantastic tool that accelerates development by abstracting many time-consuming tasks, giving the developer more time to focus on the application's core business logic."),(0,r.kt)("p",null,"It also comes with detailed documentation that will get you started. Visit ",(0,r.kt)("a",{parentName:"p",href:"https://refine.dev/docs/getting-started/overview/"},"here")," to access the documentation."),(0,r.kt)("h2",{id:"live-codesandbox-example"},"Live CodeSandbox Example"),(0,r.kt)(m,{path:"blog-ra-chakra-tutorial",mdxType:"CodeSandboxExample"}),(0,r.kt)("hr",null))}h.isMDXComponent=!0}}]);